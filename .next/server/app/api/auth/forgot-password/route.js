"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/forgot-password/route";
exports.ids = ["app/api/auth/forgot-password/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fforgot-password%2Froute&page=%2Fapi%2Fauth%2Fforgot-password%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fforgot-password%2Froute.ts&appDir=C%3A%5CUsers%5Csridh%5COneDrive%5CDesktop%5Creal-estate-project%5Cfrontend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Csridh%5COneDrive%5CDesktop%5Creal-estate-project%5Cfrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fforgot-password%2Froute&page=%2Fapi%2Fauth%2Fforgot-password%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fforgot-password%2Froute.ts&appDir=C%3A%5CUsers%5Csridh%5COneDrive%5CDesktop%5Creal-estate-project%5Cfrontend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Csridh%5COneDrive%5CDesktop%5Creal-estate-project%5Cfrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_sridh_OneDrive_Desktop_real_estate_project_frontend_app_api_auth_forgot_password_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/auth/forgot-password/route.ts */ \"(rsc)/./app/api/auth/forgot-password/route.ts\");\n\r\n\r\n\r\n\r\n// We inject the nextConfigOutput here so that we can use them in the route\r\n// module.\r\nconst nextConfigOutput = \"\"\r\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\r\n    definition: {\r\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\r\n        page: \"/api/auth/forgot-password/route\",\r\n        pathname: \"/api/auth/forgot-password\",\r\n        filename: \"route\",\r\n        bundlePath: \"app/api/auth/forgot-password/route\"\r\n    },\r\n    resolvedPagePath: \"C:\\\\Users\\\\sridh\\\\OneDrive\\\\Desktop\\\\real-estate-project\\\\frontend\\\\app\\\\api\\\\auth\\\\forgot-password\\\\route.ts\",\r\n    nextConfigOutput,\r\n    userland: C_Users_sridh_OneDrive_Desktop_real_estate_project_frontend_app_api_auth_forgot_password_route_ts__WEBPACK_IMPORTED_MODULE_3__\r\n});\r\n// Pull out the exports that we need to expose from the module. This should\r\n// be eliminated when we've moved the other routes to the new format. These\r\n// are used to hook into the route.\r\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\r\nconst originalPathname = \"/api/auth/forgot-password/route\";\r\nfunction patchFetch() {\r\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\r\n        serverHooks,\r\n        staticGenerationAsyncStorage\r\n    });\r\n}\r\n\r\n\r\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGZm9yZ290LXBhc3N3b3JkJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhdXRoJTJGZm9yZ290LXBhc3N3b3JkJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYXV0aCUyRmZvcmdvdC1wYXNzd29yZCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNzcmlkaCU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q3JlYWwtZXN0YXRlLXByb2plY3QlNUNmcm9udGVuZCU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDc3JpZGglNUNPbmVEcml2ZSU1Q0Rlc2t0b3AlNUNyZWFsLWVzdGF0ZS1wcm9qZWN0JTVDZnJvbnRlbmQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzZEO0FBQzFJO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7QUFDdkg7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWwtZXN0YXRlLWZyb250ZW5kLz81NTRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XHJcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XHJcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcclxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXHNyaWRoXFxcXE9uZURyaXZlXFxcXERlc2t0b3BcXFxccmVhbC1lc3RhdGUtcHJvamVjdFxcXFxmcm9udGVuZFxcXFxhcHBcXFxcYXBpXFxcXGF1dGhcXFxcZm9yZ290LXBhc3N3b3JkXFxcXHJvdXRlLnRzXCI7XHJcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxyXG4vLyBtb2R1bGUuXHJcbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXHJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xyXG4gICAgZGVmaW5pdGlvbjoge1xyXG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXHJcbiAgICAgICAgcGFnZTogXCIvYXBpL2F1dGgvZm9yZ290LXBhc3N3b3JkL3JvdXRlXCIsXHJcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRoL2ZvcmdvdC1wYXNzd29yZFwiLFxyXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXHJcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2F1dGgvZm9yZ290LXBhc3N3b3JkL3JvdXRlXCJcclxuICAgIH0sXHJcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXHNyaWRoXFxcXE9uZURyaXZlXFxcXERlc2t0b3BcXFxccmVhbC1lc3RhdGUtcHJvamVjdFxcXFxmcm9udGVuZFxcXFxhcHBcXFxcYXBpXFxcXGF1dGhcXFxcZm9yZ290LXBhc3N3b3JkXFxcXHJvdXRlLnRzXCIsXHJcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxyXG4gICAgdXNlcmxhbmRcclxufSk7XHJcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxyXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2VcclxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cclxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XHJcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYXV0aC9mb3Jnb3QtcGFzc3dvcmQvcm91dGVcIjtcclxuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcclxuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XHJcbiAgICAgICAgc2VydmVySG9va3MsXHJcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcclxuXHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fforgot-password%2Froute&page=%2Fapi%2Fauth%2Fforgot-password%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fforgot-password%2Froute.ts&appDir=C%3A%5CUsers%5Csridh%5COneDrive%5CDesktop%5Creal-estate-project%5Cfrontend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Csridh%5COneDrive%5CDesktop%5Creal-estate-project%5Cfrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/auth/forgot-password/route.ts":
/*!***********************************************!*\
  !*** ./app/api/auth/forgot-password/route.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/supabase */ \"(rsc)/./app/lib/supabase.ts\");\n/* harmony import */ var _lib_otp__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/otp */ \"(rsc)/./app/lib/otp.ts\");\n/* harmony import */ var _lib_validation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/validation */ \"(rsc)/./app/lib/validation.ts\");\n/* harmony import */ var _lib_tokens__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/tokens */ \"(rsc)/./app/lib/tokens.ts\");\n\n\n\n\n\nasync function POST(request) {\n    try {\n        const { email } = await request.json();\n        // Validate email\n        const emailValidation = (0,_lib_validation__WEBPACK_IMPORTED_MODULE_3__.validateEmail)(email);\n        if (!emailValidation.isValid) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: emailValidation.error\n            }, {\n                status: 400\n            });\n        }\n        // Check if user exists\n        const { data: user, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"admin_users\").select(\"email, username\").eq(\"email\", emailValidation.sanitized).single();\n        if (error || !user) {\n            // For security, don't reveal if email exists\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                message: \"If your email is registered, you will receive password reset instructions.\"\n            });\n        }\n        // Generate reset token\n        const { token, expiry } = (0,_lib_otp__WEBPACK_IMPORTED_MODULE_2__.generateResetToken)();\n        _lib_tokens__WEBPACK_IMPORTED_MODULE_4__.resetTokens.set(token, {\n            email: user.email,\n            expiry\n        });\n        // Create reset link\n        const resetLink = `${process.env.NEXT_PUBLIC_SITE_URL || \"http://localhost:3000\"}/reset-password?token=${token}`;\n        // Send email (implement your email service)\n        console.log(`Password reset link for ${user.email}: ${resetLink}`);\n        // TODO: Replace with actual email service\n        // await sendEmail({\n        //     to: user.email,\n        //     subject: 'Reset your PREM Properties password',\n        //     html: `\n        //         <h2>Password Reset Request</h2>\n        //         <p>Click the link below to reset your password:</p>\n        //         <a href=\"${resetLink}\">Reset Password</a>\n        //         <p>This link will expire in 1 hour.</p>\n        //         <p>If you didn't request this, please ignore this email.</p>\n        //     `\n        // });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"Password reset link sent to your email\",\n            // DEVELOPMENT ONLY\n            devToken:  true ? token : 0\n        });\n    } catch (error) {\n        console.error(\"Forgot password error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to process request\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2F1dGgvZm9yZ290LXBhc3N3b3JkL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEyQztBQUNNO0FBQ0s7QUFDRTtBQUNOO0FBRzNDLGVBQWVLLEtBQUtDLE9BQWdCO0lBQ3ZDLElBQUk7UUFDQSxNQUFNLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU1ELFFBQVFFLElBQUk7UUFFcEMsaUJBQWlCO1FBQ2pCLE1BQU1DLGtCQUFrQk4sOERBQWFBLENBQUNJO1FBQ3RDLElBQUksQ0FBQ0UsZ0JBQWdCQyxPQUFPLEVBQUU7WUFDMUIsT0FBT1YscURBQVlBLENBQUNRLElBQUksQ0FDcEI7Z0JBQUVHLE9BQU9GLGdCQUFnQkUsS0FBSztZQUFDLEdBQy9CO2dCQUFFQyxRQUFRO1lBQUk7UUFFdEI7UUFFQSx1QkFBdUI7UUFDdkIsTUFBTSxFQUFFQyxNQUFNQyxJQUFJLEVBQUVILEtBQUssRUFBRSxHQUFHLE1BQU1WLG1EQUFRQSxDQUN2Q2MsSUFBSSxDQUFDLGVBQ0xDLE1BQU0sQ0FBQyxtQkFDUEMsRUFBRSxDQUFDLFNBQVNSLGdCQUFnQlMsU0FBUyxFQUNyQ0MsTUFBTTtRQUVYLElBQUlSLFNBQVMsQ0FBQ0csTUFBTTtZQUNoQiw2Q0FBNkM7WUFDN0MsT0FBT2QscURBQVlBLENBQUNRLElBQUksQ0FBQztnQkFDckJZLFNBQVM7Z0JBQ1RDLFNBQVM7WUFDYjtRQUNKO1FBRUEsdUJBQXVCO1FBQ3ZCLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxNQUFNLEVBQUUsR0FBR3JCLDREQUFrQkE7UUFDNUNFLG9EQUFXQSxDQUFDb0IsR0FBRyxDQUFDRixPQUFPO1lBQ25CZixPQUFPTyxLQUFLUCxLQUFLO1lBQ2pCZ0I7UUFDSjtRQUVBLG9CQUFvQjtRQUNwQixNQUFNRSxZQUFZLENBQUMsRUFBRUMsUUFBUUMsR0FBRyxDQUFDQyxvQkFBb0IsSUFBSSx3QkFBd0Isc0JBQXNCLEVBQUVOLE1BQU0sQ0FBQztRQUVoSCw0Q0FBNEM7UUFDNUNPLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLHdCQUF3QixFQUFFaEIsS0FBS1AsS0FBSyxDQUFDLEVBQUUsRUFBRWtCLFVBQVUsQ0FBQztRQUVqRSwwQ0FBMEM7UUFDMUMsb0JBQW9CO1FBQ3BCLHNCQUFzQjtRQUN0QixzREFBc0Q7UUFDdEQsY0FBYztRQUNkLDBDQUEwQztRQUMxQyw4REFBOEQ7UUFDOUQsb0RBQW9EO1FBQ3BELGtEQUFrRDtRQUNsRCx1RUFBdUU7UUFDdkUsUUFBUTtRQUNSLE1BQU07UUFFTixPQUFPekIscURBQVlBLENBQUNRLElBQUksQ0FBQztZQUNyQlksU0FBUztZQUNUQyxTQUFTO1lBQ1QsbUJBQW1CO1lBQ25CVSxVQUFVTCxLQUF5QixHQUFnQkosUUFBUVUsQ0FBU0E7UUFDeEU7SUFFSixFQUFFLE9BQU9yQixPQUFPO1FBQ1prQixRQUFRbEIsS0FBSyxDQUFDLDBCQUEwQkE7UUFDeEMsT0FBT1gscURBQVlBLENBQUNRLElBQUksQ0FDcEI7WUFBRUcsT0FBTztRQUE0QixHQUNyQztZQUFFQyxRQUFRO1FBQUk7SUFFdEI7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWwtZXN0YXRlLWZyb250ZW5kLy4vYXBwL2FwaS9hdXRoL2ZvcmdvdC1wYXNzd29yZC9yb3V0ZS50cz8zYmJjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHsgc3VwYWJhc2UgfSBmcm9tICcuLi8uLi8uLi9saWIvc3VwYWJhc2UnO1xyXG5pbXBvcnQgeyBnZW5lcmF0ZVJlc2V0VG9rZW4gfSBmcm9tICcuLi8uLi8uLi9saWIvb3RwJztcclxuaW1wb3J0IHsgdmFsaWRhdGVFbWFpbCB9IGZyb20gJy4uLy4uLy4uL2xpYi92YWxpZGF0aW9uJztcclxuaW1wb3J0IHsgcmVzZXRUb2tlbnMgfSBmcm9tICcuLi8uLi8uLi9saWIvdG9rZW5zJztcclxuXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgZW1haWwgfSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xyXG5cclxuICAgICAgICAvLyBWYWxpZGF0ZSBlbWFpbFxyXG4gICAgICAgIGNvbnN0IGVtYWlsVmFsaWRhdGlvbiA9IHZhbGlkYXRlRW1haWwoZW1haWwpO1xyXG4gICAgICAgIGlmICghZW1haWxWYWxpZGF0aW9uLmlzVmFsaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgICAgICAgeyBlcnJvcjogZW1haWxWYWxpZGF0aW9uLmVycm9yIH0sXHJcbiAgICAgICAgICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHVzZXIgZXhpc3RzXHJcbiAgICAgICAgY29uc3QgeyBkYXRhOiB1c2VyLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgICAgLmZyb20oJ2FkbWluX3VzZXJzJylcclxuICAgICAgICAgICAgLnNlbGVjdCgnZW1haWwsIHVzZXJuYW1lJylcclxuICAgICAgICAgICAgLmVxKCdlbWFpbCcsIGVtYWlsVmFsaWRhdGlvbi5zYW5pdGl6ZWQpXHJcbiAgICAgICAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICAgICAgaWYgKGVycm9yIHx8ICF1c2VyKSB7XHJcbiAgICAgICAgICAgIC8vIEZvciBzZWN1cml0eSwgZG9uJ3QgcmV2ZWFsIGlmIGVtYWlsIGV4aXN0c1xyXG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdJZiB5b3VyIGVtYWlsIGlzIHJlZ2lzdGVyZWQsIHlvdSB3aWxsIHJlY2VpdmUgcGFzc3dvcmQgcmVzZXQgaW5zdHJ1Y3Rpb25zLidcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBHZW5lcmF0ZSByZXNldCB0b2tlblxyXG4gICAgICAgIGNvbnN0IHsgdG9rZW4sIGV4cGlyeSB9ID0gZ2VuZXJhdGVSZXNldFRva2VuKCk7XHJcbiAgICAgICAgcmVzZXRUb2tlbnMuc2V0KHRva2VuLCB7XHJcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgICBleHBpcnlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHJlc2V0IGxpbmtcclxuICAgICAgICBjb25zdCByZXNldExpbmsgPSBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TSVRFX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDozMDAwJ30vcmVzZXQtcGFzc3dvcmQ/dG9rZW49JHt0b2tlbn1gO1xyXG5cclxuICAgICAgICAvLyBTZW5kIGVtYWlsIChpbXBsZW1lbnQgeW91ciBlbWFpbCBzZXJ2aWNlKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGBQYXNzd29yZCByZXNldCBsaW5rIGZvciAke3VzZXIuZW1haWx9OiAke3Jlc2V0TGlua31gKTtcclxuXHJcbiAgICAgICAgLy8gVE9ETzogUmVwbGFjZSB3aXRoIGFjdHVhbCBlbWFpbCBzZXJ2aWNlXHJcbiAgICAgICAgLy8gYXdhaXQgc2VuZEVtYWlsKHtcclxuICAgICAgICAvLyAgICAgdG86IHVzZXIuZW1haWwsXHJcbiAgICAgICAgLy8gICAgIHN1YmplY3Q6ICdSZXNldCB5b3VyIFBSRU0gUHJvcGVydGllcyBwYXNzd29yZCcsXHJcbiAgICAgICAgLy8gICAgIGh0bWw6IGBcclxuICAgICAgICAvLyAgICAgICAgIDxoMj5QYXNzd29yZCBSZXNldCBSZXF1ZXN0PC9oMj5cclxuICAgICAgICAvLyAgICAgICAgIDxwPkNsaWNrIHRoZSBsaW5rIGJlbG93IHRvIHJlc2V0IHlvdXIgcGFzc3dvcmQ6PC9wPlxyXG4gICAgICAgIC8vICAgICAgICAgPGEgaHJlZj1cIiR7cmVzZXRMaW5rfVwiPlJlc2V0IFBhc3N3b3JkPC9hPlxyXG4gICAgICAgIC8vICAgICAgICAgPHA+VGhpcyBsaW5rIHdpbGwgZXhwaXJlIGluIDEgaG91ci48L3A+XHJcbiAgICAgICAgLy8gICAgICAgICA8cD5JZiB5b3UgZGlkbid0IHJlcXVlc3QgdGhpcywgcGxlYXNlIGlnbm9yZSB0aGlzIGVtYWlsLjwvcD5cclxuICAgICAgICAvLyAgICAgYFxyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiAnUGFzc3dvcmQgcmVzZXQgbGluayBzZW50IHRvIHlvdXIgZW1haWwnLFxyXG4gICAgICAgICAgICAvLyBERVZFTE9QTUVOVCBPTkxZXHJcbiAgICAgICAgICAgIGRldlRva2VuOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IHRva2VuIDogdW5kZWZpbmVkXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdGb3Jnb3QgcGFzc3dvcmQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBwcm9jZXNzIHJlcXVlc3QnIH0sXHJcbiAgICAgICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwic3VwYWJhc2UiLCJnZW5lcmF0ZVJlc2V0VG9rZW4iLCJ2YWxpZGF0ZUVtYWlsIiwicmVzZXRUb2tlbnMiLCJQT1NUIiwicmVxdWVzdCIsImVtYWlsIiwianNvbiIsImVtYWlsVmFsaWRhdGlvbiIsImlzVmFsaWQiLCJlcnJvciIsInN0YXR1cyIsImRhdGEiLCJ1c2VyIiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2FuaXRpemVkIiwic2luZ2xlIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJ0b2tlbiIsImV4cGlyeSIsInNldCIsInJlc2V0TGluayIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TSVRFX1VSTCIsImNvbnNvbGUiLCJsb2ciLCJkZXZUb2tlbiIsInVuZGVmaW5lZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth/forgot-password/route.ts\n");

/***/ }),

/***/ "(rsc)/./app/lib/otp.ts":
/*!************************!*\
  !*** ./app/lib/otp.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cleanupExpiredOTPs: () => (/* binding */ cleanupExpiredOTPs),\n/* harmony export */   generateOTP: () => (/* binding */ generateOTP),\n/* harmony export */   generateResetToken: () => (/* binding */ generateResetToken),\n/* harmony export */   storeOTP: () => (/* binding */ storeOTP),\n/* harmony export */   verifyOTP: () => (/* binding */ verifyOTP)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\r\n * Generate a secure random OTP (One-Time Password)\r\n * @param length - Length of OTP (default: 6)\r\n * @returns Random OTP string\r\n */ function generateOTP(length = 6) {\n    const digits = \"0123456789\";\n    let otp = \"\";\n    for(let i = 0; i < length; i++){\n        const randomIndex = crypto__WEBPACK_IMPORTED_MODULE_0___default().randomInt(0, digits.length);\n        otp += digits[randomIndex];\n    }\n    return otp;\n}\n/**\r\n * Generate a secure password reset token\r\n * @returns Object with token and expiry\r\n */ function generateResetToken() {\n    const token = crypto__WEBPACK_IMPORTED_MODULE_0___default().randomBytes(32).toString(\"hex\");\n    const expiry = new Date();\n    expiry.setHours(expiry.getHours() + 1); // 1 hour expiry\n    return {\n        token,\n        expiry\n    };\n}\nconst otpStore = new Map();\n/**\r\n * Store OTP for email verification\r\n * @param email - User email\r\n * @param otp - Generated OTP\r\n * @param validityMinutes - How long OTP is valid (default: 10 minutes)\r\n */ function storeOTP(email, otp, validityMinutes = 10) {\n    const expiry = new Date();\n    expiry.setMinutes(expiry.getMinutes() + validityMinutes);\n    otpStore.set(email, {\n        otp,\n        email,\n        expiry,\n        attempts: 0\n    });\n}\n/**\r\n * Verify OTP for email\r\n * @param email - User email\r\n * @param otp - OTP to verify\r\n * @returns Object with success status and message\r\n */ function verifyOTP(email, otp) {\n    const record = otpStore.get(email);\n    if (!record) {\n        return {\n            success: false,\n            message: \"No OTP found for this email\"\n        };\n    }\n    // Check expiry\n    if (new Date() > record.expiry) {\n        otpStore.delete(email);\n        return {\n            success: false,\n            message: \"OTP has expired\"\n        };\n    }\n    // Check attempts (max 5 attempts)\n    if (record.attempts >= 5) {\n        otpStore.delete(email);\n        return {\n            success: false,\n            message: \"Too many failed attempts. Request new OTP.\"\n        };\n    }\n    // Verify OTP\n    if (record.otp === otp) {\n        otpStore.delete(email); // Remove after successful verification\n        return {\n            success: true,\n            message: \"OTP verified successfully\"\n        };\n    }\n    // Increment attempts\n    record.attempts++;\n    otpStore.set(email, record);\n    return {\n        success: false,\n        message: `Invalid OTP. ${5 - record.attempts} attempts remaining.`\n    };\n}\n/**\r\n * Clean up expired OTPs (run periodically)\r\n */ function cleanupExpiredOTPs() {\n    const now = new Date();\n    otpStore.forEach((record, email)=>{\n        if (now > record.expiry) {\n            otpStore.delete(email);\n        }\n    });\n}\n// Run cleanup every 5 minutes\nif (typeof setInterval !== \"undefined\") {\n    setInterval(cleanupExpiredOTPs, 5 * 60 * 1000);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGliL290cC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTRCO0FBRTVCOzs7O0NBSUMsR0FDTSxTQUFTQyxZQUFZQyxTQUFpQixDQUFDO0lBQzFDLE1BQU1DLFNBQVM7SUFDZixJQUFJQyxNQUFNO0lBRVYsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUlILFFBQVFHLElBQUs7UUFDN0IsTUFBTUMsY0FBY04sdURBQWdCLENBQUMsR0FBR0csT0FBT0QsTUFBTTtRQUNyREUsT0FBT0QsTUFBTSxDQUFDRyxZQUFZO0lBQzlCO0lBRUEsT0FBT0Y7QUFDWDtBQUVBOzs7Q0FHQyxHQUNNLFNBQVNJO0lBQ1osTUFBTUMsUUFBUVQseURBQWtCLENBQUMsSUFBSVcsUUFBUSxDQUFDO0lBQzlDLE1BQU1DLFNBQVMsSUFBSUM7SUFDbkJELE9BQU9FLFFBQVEsQ0FBQ0YsT0FBT0csUUFBUSxLQUFLLElBQUksZ0JBQWdCO0lBRXhELE9BQU87UUFBRU47UUFBT0c7SUFBTztBQUMzQjtBQVlBLE1BQU1JLFdBQVcsSUFBSUM7QUFFckI7Ozs7O0NBS0MsR0FDTSxTQUFTQyxTQUFTQyxLQUFhLEVBQUVmLEdBQVcsRUFBRWdCLGtCQUEwQixFQUFFO0lBQzdFLE1BQU1SLFNBQVMsSUFBSUM7SUFDbkJELE9BQU9TLFVBQVUsQ0FBQ1QsT0FBT1UsVUFBVSxLQUFLRjtJQUV4Q0osU0FBU08sR0FBRyxDQUFDSixPQUFPO1FBQ2hCZjtRQUNBZTtRQUNBUDtRQUNBWSxVQUFVO0lBQ2Q7QUFDSjtBQUVBOzs7OztDQUtDLEdBQ00sU0FBU0MsVUFBVU4sS0FBYSxFQUFFZixHQUFXO0lBQ2hELE1BQU1zQixTQUFTVixTQUFTVyxHQUFHLENBQUNSO0lBRTVCLElBQUksQ0FBQ08sUUFBUTtRQUNULE9BQU87WUFBRUUsU0FBUztZQUFPQyxTQUFTO1FBQThCO0lBQ3BFO0lBRUEsZUFBZTtJQUNmLElBQUksSUFBSWhCLFNBQVNhLE9BQU9kLE1BQU0sRUFBRTtRQUM1QkksU0FBU2MsTUFBTSxDQUFDWDtRQUNoQixPQUFPO1lBQUVTLFNBQVM7WUFBT0MsU0FBUztRQUFrQjtJQUN4RDtJQUVBLGtDQUFrQztJQUNsQyxJQUFJSCxPQUFPRixRQUFRLElBQUksR0FBRztRQUN0QlIsU0FBU2MsTUFBTSxDQUFDWDtRQUNoQixPQUFPO1lBQUVTLFNBQVM7WUFBT0MsU0FBUztRQUE2QztJQUNuRjtJQUVBLGFBQWE7SUFDYixJQUFJSCxPQUFPdEIsR0FBRyxLQUFLQSxLQUFLO1FBQ3BCWSxTQUFTYyxNQUFNLENBQUNYLFFBQVEsdUNBQXVDO1FBQy9ELE9BQU87WUFBRVMsU0FBUztZQUFNQyxTQUFTO1FBQTRCO0lBQ2pFO0lBRUEscUJBQXFCO0lBQ3JCSCxPQUFPRixRQUFRO0lBQ2ZSLFNBQVNPLEdBQUcsQ0FBQ0osT0FBT087SUFFcEIsT0FBTztRQUNIRSxTQUFTO1FBQ1RDLFNBQVMsQ0FBQyxhQUFhLEVBQUUsSUFBSUgsT0FBT0YsUUFBUSxDQUFDLG9CQUFvQixDQUFDO0lBQ3RFO0FBQ0o7QUFFQTs7Q0FFQyxHQUNNLFNBQVNPO0lBQ1osTUFBTUMsTUFBTSxJQUFJbkI7SUFFaEJHLFNBQVNpQixPQUFPLENBQUMsQ0FBQ1AsUUFBUVA7UUFDdEIsSUFBSWEsTUFBTU4sT0FBT2QsTUFBTSxFQUFFO1lBQ3JCSSxTQUFTYyxNQUFNLENBQUNYO1FBQ3BCO0lBQ0o7QUFDSjtBQUVBLDhCQUE4QjtBQUM5QixJQUFJLE9BQU9lLGdCQUFnQixhQUFhO0lBQ3BDQSxZQUFZSCxvQkFBb0IsSUFBSSxLQUFLO0FBQzdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhbC1lc3RhdGUtZnJvbnRlbmQvLi9hcHAvbGliL290cC50cz8zMjRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJztcclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSBhIHNlY3VyZSByYW5kb20gT1RQIChPbmUtVGltZSBQYXNzd29yZClcclxuICogQHBhcmFtIGxlbmd0aCAtIExlbmd0aCBvZiBPVFAgKGRlZmF1bHQ6IDYpXHJcbiAqIEByZXR1cm5zIFJhbmRvbSBPVFAgc3RyaW5nXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVPVFAobGVuZ3RoOiBudW1iZXIgPSA2KTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGRpZ2l0cyA9ICcwMTIzNDU2Nzg5JztcclxuICAgIGxldCBvdHAgPSAnJztcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgcmFuZG9tSW5kZXggPSBjcnlwdG8ucmFuZG9tSW50KDAsIGRpZ2l0cy5sZW5ndGgpO1xyXG4gICAgICAgIG90cCArPSBkaWdpdHNbcmFuZG9tSW5kZXhdO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBvdHA7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSBhIHNlY3VyZSBwYXNzd29yZCByZXNldCB0b2tlblxyXG4gKiBAcmV0dXJucyBPYmplY3Qgd2l0aCB0b2tlbiBhbmQgZXhwaXJ5XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVSZXNldFRva2VuKCk6IHsgdG9rZW46IHN0cmluZzsgZXhwaXJ5OiBEYXRlIH0ge1xyXG4gICAgY29uc3QgdG9rZW4gPSBjcnlwdG8ucmFuZG9tQnl0ZXMoMzIpLnRvU3RyaW5nKCdoZXgnKTtcclxuICAgIGNvbnN0IGV4cGlyeSA9IG5ldyBEYXRlKCk7XHJcbiAgICBleHBpcnkuc2V0SG91cnMoZXhwaXJ5LmdldEhvdXJzKCkgKyAxKTsgLy8gMSBob3VyIGV4cGlyeVxyXG5cclxuICAgIHJldHVybiB7IHRva2VuLCBleHBpcnkgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIE9UUCBzdG9yYWdlIGludGVyZmFjZSAoaW4tbWVtb3J5IGZvciBkZXZlbG9wbWVudCwgdXNlIFJlZGlzIGluIHByb2R1Y3Rpb24pXHJcbiAqL1xyXG5pbnRlcmZhY2UgT1RQUmVjb3JkIHtcclxuICAgIG90cDogc3RyaW5nO1xyXG4gICAgZW1haWw6IHN0cmluZztcclxuICAgIGV4cGlyeTogRGF0ZTtcclxuICAgIGF0dGVtcHRzOiBudW1iZXI7XHJcbn1cclxuXHJcbmNvbnN0IG90cFN0b3JlID0gbmV3IE1hcDxzdHJpbmcsIE9UUFJlY29yZD4oKTtcclxuXHJcbi8qKlxyXG4gKiBTdG9yZSBPVFAgZm9yIGVtYWlsIHZlcmlmaWNhdGlvblxyXG4gKiBAcGFyYW0gZW1haWwgLSBVc2VyIGVtYWlsXHJcbiAqIEBwYXJhbSBvdHAgLSBHZW5lcmF0ZWQgT1RQXHJcbiAqIEBwYXJhbSB2YWxpZGl0eU1pbnV0ZXMgLSBIb3cgbG9uZyBPVFAgaXMgdmFsaWQgKGRlZmF1bHQ6IDEwIG1pbnV0ZXMpXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc3RvcmVPVFAoZW1haWw6IHN0cmluZywgb3RwOiBzdHJpbmcsIHZhbGlkaXR5TWludXRlczogbnVtYmVyID0gMTApOiB2b2lkIHtcclxuICAgIGNvbnN0IGV4cGlyeSA9IG5ldyBEYXRlKCk7XHJcbiAgICBleHBpcnkuc2V0TWludXRlcyhleHBpcnkuZ2V0TWludXRlcygpICsgdmFsaWRpdHlNaW51dGVzKTtcclxuXHJcbiAgICBvdHBTdG9yZS5zZXQoZW1haWwsIHtcclxuICAgICAgICBvdHAsXHJcbiAgICAgICAgZW1haWwsXHJcbiAgICAgICAgZXhwaXJ5LFxyXG4gICAgICAgIGF0dGVtcHRzOiAwXHJcbiAgICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFZlcmlmeSBPVFAgZm9yIGVtYWlsXHJcbiAqIEBwYXJhbSBlbWFpbCAtIFVzZXIgZW1haWxcclxuICogQHBhcmFtIG90cCAtIE9UUCB0byB2ZXJpZnlcclxuICogQHJldHVybnMgT2JqZWN0IHdpdGggc3VjY2VzcyBzdGF0dXMgYW5kIG1lc3NhZ2VcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB2ZXJpZnlPVFAoZW1haWw6IHN0cmluZywgb3RwOiBzdHJpbmcpOiB7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9IHtcclxuICAgIGNvbnN0IHJlY29yZCA9IG90cFN0b3JlLmdldChlbWFpbCk7XHJcblxyXG4gICAgaWYgKCFyZWNvcmQpIHtcclxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ05vIE9UUCBmb3VuZCBmb3IgdGhpcyBlbWFpbCcgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBleHBpcnlcclxuICAgIGlmIChuZXcgRGF0ZSgpID4gcmVjb3JkLmV4cGlyeSkge1xyXG4gICAgICAgIG90cFN0b3JlLmRlbGV0ZShlbWFpbCk7XHJcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdPVFAgaGFzIGV4cGlyZWQnIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgYXR0ZW1wdHMgKG1heCA1IGF0dGVtcHRzKVxyXG4gICAgaWYgKHJlY29yZC5hdHRlbXB0cyA+PSA1KSB7XHJcbiAgICAgICAgb3RwU3RvcmUuZGVsZXRlKGVtYWlsKTtcclxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ1RvbyBtYW55IGZhaWxlZCBhdHRlbXB0cy4gUmVxdWVzdCBuZXcgT1RQLicgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBWZXJpZnkgT1RQXHJcbiAgICBpZiAocmVjb3JkLm90cCA9PT0gb3RwKSB7XHJcbiAgICAgICAgb3RwU3RvcmUuZGVsZXRlKGVtYWlsKTsgLy8gUmVtb3ZlIGFmdGVyIHN1Y2Nlc3NmdWwgdmVyaWZpY2F0aW9uXHJcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogJ09UUCB2ZXJpZmllZCBzdWNjZXNzZnVsbHknIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSW5jcmVtZW50IGF0dGVtcHRzXHJcbiAgICByZWNvcmQuYXR0ZW1wdHMrKztcclxuICAgIG90cFN0b3JlLnNldChlbWFpbCwgcmVjb3JkKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIG1lc3NhZ2U6IGBJbnZhbGlkIE9UUC4gJHs1IC0gcmVjb3JkLmF0dGVtcHRzfSBhdHRlbXB0cyByZW1haW5pbmcuYFxyXG4gICAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENsZWFuIHVwIGV4cGlyZWQgT1RQcyAocnVuIHBlcmlvZGljYWxseSlcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGVhbnVwRXhwaXJlZE9UUHMoKTogdm9pZCB7XHJcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG5cclxuICAgIG90cFN0b3JlLmZvckVhY2goKHJlY29yZCwgZW1haWwpID0+IHtcclxuICAgICAgICBpZiAobm93ID4gcmVjb3JkLmV4cGlyeSkge1xyXG4gICAgICAgICAgICBvdHBTdG9yZS5kZWxldGUoZW1haWwpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG4vLyBSdW4gY2xlYW51cCBldmVyeSA1IG1pbnV0ZXNcclxuaWYgKHR5cGVvZiBzZXRJbnRlcnZhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIHNldEludGVydmFsKGNsZWFudXBFeHBpcmVkT1RQcywgNSAqIDYwICogMTAwMCk7XHJcbn1cclxuIl0sIm5hbWVzIjpbImNyeXB0byIsImdlbmVyYXRlT1RQIiwibGVuZ3RoIiwiZGlnaXRzIiwib3RwIiwiaSIsInJhbmRvbUluZGV4IiwicmFuZG9tSW50IiwiZ2VuZXJhdGVSZXNldFRva2VuIiwidG9rZW4iLCJyYW5kb21CeXRlcyIsInRvU3RyaW5nIiwiZXhwaXJ5IiwiRGF0ZSIsInNldEhvdXJzIiwiZ2V0SG91cnMiLCJvdHBTdG9yZSIsIk1hcCIsInN0b3JlT1RQIiwiZW1haWwiLCJ2YWxpZGl0eU1pbnV0ZXMiLCJzZXRNaW51dGVzIiwiZ2V0TWludXRlcyIsInNldCIsImF0dGVtcHRzIiwidmVyaWZ5T1RQIiwicmVjb3JkIiwiZ2V0Iiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJkZWxldGUiLCJjbGVhbnVwRXhwaXJlZE9UUHMiLCJub3ciLCJmb3JFYWNoIiwic2V0SW50ZXJ2YWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/lib/otp.ts\n");

/***/ }),

/***/ "(rsc)/./app/lib/supabase.ts":
/*!*****************************!*\
  !*** ./app/lib/supabase.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/index.mjs\");\n\nconst supabaseUrl = \"https://adioyhbuesfhivgswzwg.supabase.co\" || 0;\nconst supabaseAnonKey = \"sb_publishable_YVxLfujMATh88ecM3wkyFw_87aNmMIq\" || 0;\nif (!supabaseUrl || !supabaseAnonKey) {\n    console.warn(\"Supabase credentials missing. Database features will not work.\");\n}\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGliL3N1cGFiYXNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXFEO0FBRXJELE1BQU1DLGNBQWNDLDBDQUFvQyxJQUFJO0FBQzVELE1BQU1HLGtCQUFrQkgsZ0RBQXlDLElBQUk7QUFFckUsSUFBSSxDQUFDRCxlQUFlLENBQUNJLGlCQUFpQjtJQUNsQ0UsUUFBUUMsSUFBSSxDQUFDO0FBQ2pCO0FBRU8sTUFBTUMsV0FBV1QsbUVBQVlBLENBQUNDLGFBQWFJLGlCQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWwtZXN0YXRlLWZyb250ZW5kLy4vYXBwL2xpYi9zdXBhYmFzZS50cz84ZDkwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XHJcblxyXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCB8fCAnJztcclxuY29uc3Qgc3VwYWJhc2VBbm9uS2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkgfHwgJyc7XHJcblxyXG5pZiAoIXN1cGFiYXNlVXJsIHx8ICFzdXBhYmFzZUFub25LZXkpIHtcclxuICAgIGNvbnNvbGUud2FybignU3VwYWJhc2UgY3JlZGVudGlhbHMgbWlzc2luZy4gRGF0YWJhc2UgZmVhdHVyZXMgd2lsbCBub3Qgd29yay4nKTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub25LZXkpO1xyXG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VBbm9uS2V5IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJjb25zb2xlIiwid2FybiIsInN1cGFiYXNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/lib/supabase.ts\n");

/***/ }),

/***/ "(rsc)/./app/lib/tokens.ts":
/*!***************************!*\
  !*** ./app/lib/tokens.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   resetTokens: () => (/* binding */ resetTokens)\n/* harmony export */ });\n/**\r\n * Shared in-memory store for password reset tokens.\r\n * NOTE: For production, this should be replaced with Redis or a database table\r\n * to ensure tokens persist across server restarts and multiple instances.\r\n */ const resetTokens = new Map();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGliL3Rva2Vucy50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7Q0FJQyxHQUNNLE1BQU1BLGNBQWMsSUFBSUMsTUFBK0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFsLWVzdGF0ZS1mcm9udGVuZC8uL2FwcC9saWIvdG9rZW5zLnRzPzdjZTYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFNoYXJlZCBpbi1tZW1vcnkgc3RvcmUgZm9yIHBhc3N3b3JkIHJlc2V0IHRva2Vucy5cclxuICogTk9URTogRm9yIHByb2R1Y3Rpb24sIHRoaXMgc2hvdWxkIGJlIHJlcGxhY2VkIHdpdGggUmVkaXMgb3IgYSBkYXRhYmFzZSB0YWJsZVxyXG4gKiB0byBlbnN1cmUgdG9rZW5zIHBlcnNpc3QgYWNyb3NzIHNlcnZlciByZXN0YXJ0cyBhbmQgbXVsdGlwbGUgaW5zdGFuY2VzLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHJlc2V0VG9rZW5zID0gbmV3IE1hcDxzdHJpbmcsIHsgZW1haWw6IHN0cmluZzsgZXhwaXJ5OiBEYXRlIH0+KCk7XHJcbiJdLCJuYW1lcyI6WyJyZXNldFRva2VucyIsIk1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/lib/tokens.ts\n");

/***/ }),

/***/ "(rsc)/./app/lib/validation.ts":
/*!*******************************!*\
  !*** ./app/lib/validation.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkRateLimit: () => (/* binding */ checkRateLimit),\n/* harmony export */   sanitizeText: () => (/* binding */ sanitizeText),\n/* harmony export */   validateEmail: () => (/* binding */ validateEmail),\n/* harmony export */   validateMessage: () => (/* binding */ validateMessage),\n/* harmony export */   validateName: () => (/* binding */ validateName),\n/* harmony export */   validatePhone: () => (/* binding */ validatePhone)\n/* harmony export */ });\n/* harmony import */ var validator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! validator */ \"(rsc)/./node_modules/validator/index.js\");\n/* harmony import */ var validator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(validator__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\r\n * Input validation and sanitization utilities\r\n */ /**\r\n * Validate and sanitize email\r\n */ function validateEmail(email) {\n    const trimmed = email.trim();\n    if (!trimmed) {\n        return {\n            isValid: false,\n            sanitized: \"\",\n            error: \"Email is required\"\n        };\n    }\n    if (!validator__WEBPACK_IMPORTED_MODULE_0___default().isEmail(trimmed)) {\n        return {\n            isValid: false,\n            sanitized: trimmed,\n            error: \"Invalid email format\"\n        };\n    }\n    return {\n        isValid: true,\n        sanitized: validator__WEBPACK_IMPORTED_MODULE_0___default().normalizeEmail(trimmed) || trimmed\n    };\n}\n/**\r\n * Validate and sanitize phone number\r\n */ function validatePhone(phone) {\n    const trimmed = phone.trim();\n    if (!trimmed) {\n        return {\n            isValid: false,\n            sanitized: \"\",\n            error: \"Phone number is required\"\n        };\n    }\n    // Remove all non-digit characters except +\n    const sanitized = trimmed.replace(/[^\\d+]/g, \"\");\n    if (sanitized.length < 10) {\n        return {\n            isValid: false,\n            sanitized,\n            error: \"Phone number must be at least 10 digits\"\n        };\n    }\n    return {\n        isValid: true,\n        sanitized\n    };\n}\n/**\r\n * Sanitize text input (remove HTML, scripts, etc.)\r\n */ function sanitizeText(text, maxLength = 1000) {\n    if (!text) return \"\";\n    // Trim and limit length\n    let sanitized = text.trim().substring(0, maxLength);\n    // Remove HTML tags\n    sanitized = validator__WEBPACK_IMPORTED_MODULE_0___default().stripLow(sanitized);\n    // Escape HTML entities\n    sanitized = validator__WEBPACK_IMPORTED_MODULE_0___default().escape(sanitized);\n    return sanitized;\n}\n/**\r\n * Validate name (only letters, spaces, hyphens)\r\n */ function validateName(name) {\n    const trimmed = name.trim();\n    if (!trimmed) {\n        return {\n            isValid: false,\n            sanitized: \"\",\n            error: \"Name is required\"\n        };\n    }\n    if (trimmed.length < 2) {\n        return {\n            isValid: false,\n            sanitized: trimmed,\n            error: \"Name must be at least 2 characters\"\n        };\n    }\n    if (trimmed.length > 100) {\n        return {\n            isValid: false,\n            sanitized: trimmed,\n            error: \"Name must be less than 100 characters\"\n        };\n    }\n    // Allow letters, spaces, hyphens, apostrophes\n    if (!/^[a-zA-Z\\s'-]+$/.test(trimmed)) {\n        return {\n            isValid: false,\n            sanitized: trimmed,\n            error: \"Name can only contain letters, spaces, hyphens, and apostrophes\"\n        };\n    }\n    return {\n        isValid: true,\n        sanitized: trimmed\n    };\n}\n/**\r\n * Validate message/textarea content\r\n */ function validateMessage(message, minLength = 10, maxLength = 5000) {\n    const trimmed = message.trim();\n    if (!trimmed) {\n        return {\n            isValid: false,\n            sanitized: \"\",\n            error: \"Message is required\"\n        };\n    }\n    if (trimmed.length < minLength) {\n        return {\n            isValid: false,\n            sanitized: trimmed,\n            error: `Message must be at least ${minLength} characters`\n        };\n    }\n    if (trimmed.length > maxLength) {\n        return {\n            isValid: false,\n            sanitized: trimmed,\n            error: `Message must be less than ${maxLength} characters`\n        };\n    }\n    // Sanitize but preserve newlines\n    const sanitized = validator__WEBPACK_IMPORTED_MODULE_0___default().escape(trimmed);\n    return {\n        isValid: true,\n        sanitized\n    };\n}\n/**\r\n * Rate limiting helper - simple in-memory implementation\r\n * For production, use Redis or a proper rate limiting service\r\n */ const rateLimitMap = new Map();\nfunction checkRateLimit(identifier, maxRequests = 5, windowMs = 60000) {\n    const now = Date.now();\n    const record = rateLimitMap.get(identifier);\n    if (!record || now > record.resetTime) {\n        // New window\n        rateLimitMap.set(identifier, {\n            count: 1,\n            resetTime: now + windowMs\n        });\n        return {\n            allowed: true,\n            remaining: maxRequests - 1,\n            resetIn: windowMs\n        };\n    }\n    if (record.count >= maxRequests) {\n        // Rate limit exceeded\n        return {\n            allowed: false,\n            remaining: 0,\n            resetIn: record.resetTime - now\n        };\n    }\n    // Increment count\n    record.count++;\n    rateLimitMap.set(identifier, record);\n    return {\n        allowed: true,\n        remaining: maxRequests - record.count,\n        resetIn: record.resetTime - now\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUVTLFVBQVUsV0FBVyxDQUFDO1FBQUM7SUFDNUc7SUFFQSxpQ0FBaUM7SUFDakMsTUFBTVYsWUFBWU4sdURBQWdCLENBQUNHO0lBRW5DLE9BQU87UUFBRUUsU0FBUztRQUFNQztJQUFVO0FBQ3RDO0FBRUE7OztDQUdDLEdBQ0QsTUFBTW9CLGVBQWUsSUFBSUM7QUFFbEIsU0FBU0MsZUFBZUMsVUFBa0IsRUFBRUMsY0FBc0IsQ0FBQyxFQUFFQyxXQUFtQixLQUFLO0lBQ2hHLE1BQU1DLE1BQU1DLEtBQUtELEdBQUc7SUFDcEIsTUFBTUUsU0FBU1IsYUFBYVMsR0FBRyxDQUFDTjtJQUVoQyxJQUFJLENBQUNLLFVBQVVGLE1BQU1FLE9BQU9FLFNBQVMsRUFBRTtRQUNuQyxhQUFhO1FBQ2JWLGFBQWFXLEdBQUcsQ0FBQ1IsWUFBWTtZQUFFUyxPQUFPO1lBQUdGLFdBQVdKLE1BQU1EO1FBQVM7UUFDbkUsT0FBTztZQUFFUSxTQUFTO1lBQU1DLFdBQVdWLGNBQWM7WUFBR1csU0FBU1Y7UUFBUztJQUMxRTtJQUVBLElBQUlHLE9BQU9JLEtBQUssSUFBSVIsYUFBYTtRQUM3QixzQkFBc0I7UUFDdEIsT0FBTztZQUFFUyxTQUFTO1lBQU9DLFdBQVc7WUFBR0MsU0FBU1AsT0FBT0UsU0FBUyxHQUFHSjtRQUFJO0lBQzNFO0lBRUEsa0JBQWtCO0lBQ2xCRSxPQUFPSSxLQUFLO0lBQ1paLGFBQWFXLEdBQUcsQ0FBQ1IsWUFBWUs7SUFFN0IsT0FBTztRQUFFSyxTQUFTO1FBQU1DLFdBQVdWLGNBQWNJLE9BQU9JLEtBQUs7UUFBRUcsU0FBU1AsT0FBT0UsU0FBUyxHQUFHSjtJQUFJO0FBQ25HIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhbC1lc3RhdGUtZnJvbnRlbmQvLi9hcHAvbGliL3ZhbGlkYXRpb24udHM/Mzg1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdmFsaWRhdG9yIGZyb20gJ3ZhbGlkYXRvcic7XHJcblxyXG4vKipcclxuICogSW5wdXQgdmFsaWRhdGlvbiBhbmQgc2FuaXRpemF0aW9uIHV0aWxpdGllc1xyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBWYWxpZGF0ZSBhbmQgc2FuaXRpemUgZW1haWxcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUVtYWlsKGVtYWlsOiBzdHJpbmcpOiB7IGlzVmFsaWQ6IGJvb2xlYW47IHNhbml0aXplZDogc3RyaW5nOyBlcnJvcj86IHN0cmluZyB9IHtcclxuICAgIGNvbnN0IHRyaW1tZWQgPSBlbWFpbC50cmltKCk7XHJcblxyXG4gICAgaWYgKCF0cmltbWVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgaXNWYWxpZDogZmFsc2UsIHNhbml0aXplZDogJycsIGVycm9yOiAnRW1haWwgaXMgcmVxdWlyZWQnIH07XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF2YWxpZGF0b3IuaXNFbWFpbCh0cmltbWVkKSkge1xyXG4gICAgICAgIHJldHVybiB7IGlzVmFsaWQ6IGZhbHNlLCBzYW5pdGl6ZWQ6IHRyaW1tZWQsIGVycm9yOiAnSW52YWxpZCBlbWFpbCBmb3JtYXQnIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgaXNWYWxpZDogdHJ1ZSwgc2FuaXRpemVkOiB2YWxpZGF0b3Iubm9ybWFsaXplRW1haWwodHJpbW1lZCkgfHwgdHJpbW1lZCB9O1xyXG59XHJcblxyXG4vKipcclxuICogVmFsaWRhdGUgYW5kIHNhbml0aXplIHBob25lIG51bWJlclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUGhvbmUocGhvbmU6IHN0cmluZyk6IHsgaXNWYWxpZDogYm9vbGVhbjsgc2FuaXRpemVkOiBzdHJpbmc7IGVycm9yPzogc3RyaW5nIH0ge1xyXG4gICAgY29uc3QgdHJpbW1lZCA9IHBob25lLnRyaW0oKTtcclxuXHJcbiAgICBpZiAoIXRyaW1tZWQpIHtcclxuICAgICAgICByZXR1cm4geyBpc1ZhbGlkOiBmYWxzZSwgc2FuaXRpemVkOiAnJywgZXJyb3I6ICdQaG9uZSBudW1iZXIgaXMgcmVxdWlyZWQnIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVtb3ZlIGFsbCBub24tZGlnaXQgY2hhcmFjdGVycyBleGNlcHQgK1xyXG4gICAgY29uc3Qgc2FuaXRpemVkID0gdHJpbW1lZC5yZXBsYWNlKC9bXlxcZCtdL2csICcnKTtcclxuXHJcbiAgICBpZiAoc2FuaXRpemVkLmxlbmd0aCA8IDEwKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgaXNWYWxpZDogZmFsc2UsIHNhbml0aXplZCwgZXJyb3I6ICdQaG9uZSBudW1iZXIgbXVzdCBiZSBhdCBsZWFzdCAxMCBkaWdpdHMnIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgaXNWYWxpZDogdHJ1ZSwgc2FuaXRpemVkIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTYW5pdGl6ZSB0ZXh0IGlucHV0IChyZW1vdmUgSFRNTCwgc2NyaXB0cywgZXRjLilcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzYW5pdGl6ZVRleHQodGV4dDogc3RyaW5nLCBtYXhMZW5ndGg6IG51bWJlciA9IDEwMDApOiBzdHJpbmcge1xyXG4gICAgaWYgKCF0ZXh0KSByZXR1cm4gJyc7XHJcblxyXG4gICAgLy8gVHJpbSBhbmQgbGltaXQgbGVuZ3RoXHJcbiAgICBsZXQgc2FuaXRpemVkID0gdGV4dC50cmltKCkuc3Vic3RyaW5nKDAsIG1heExlbmd0aCk7XHJcblxyXG4gICAgLy8gUmVtb3ZlIEhUTUwgdGFnc1xyXG4gICAgc2FuaXRpemVkID0gdmFsaWRhdG9yLnN0cmlwTG93KHNhbml0aXplZCk7XHJcblxyXG4gICAgLy8gRXNjYXBlIEhUTUwgZW50aXRpZXNcclxuICAgIHNhbml0aXplZCA9IHZhbGlkYXRvci5lc2NhcGUoc2FuaXRpemVkKTtcclxuXHJcbiAgICByZXR1cm4gc2FuaXRpemVkO1xyXG59XHJcblxyXG4vKipcclxuICogVmFsaWRhdGUgbmFtZSAob25seSBsZXR0ZXJzLCBzcGFjZXMsIGh5cGhlbnMpXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVOYW1lKG5hbWU6IHN0cmluZyk6IHsgaXNWYWxpZDogYm9vbGVhbjsgc2FuaXRpemVkOiBzdHJpbmc7IGVycm9yPzogc3RyaW5nIH0ge1xyXG4gICAgY29uc3QgdHJpbW1lZCA9IG5hbWUudHJpbSgpO1xyXG5cclxuICAgIGlmICghdHJpbW1lZCkge1xyXG4gICAgICAgIHJldHVybiB7IGlzVmFsaWQ6IGZhbHNlLCBzYW5pdGl6ZWQ6ICcnLCBlcnJvcjogJ05hbWUgaXMgcmVxdWlyZWQnIH07XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRyaW1tZWQubGVuZ3RoIDwgMikge1xyXG4gICAgICAgIHJldHVybiB7IGlzVmFsaWQ6IGZhbHNlLCBzYW5pdGl6ZWQ6IHRyaW1tZWQsIGVycm9yOiAnTmFtZSBtdXN0IGJlIGF0IGxlYXN0IDIgY2hhcmFjdGVycycgfTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHJpbW1lZC5sZW5ndGggPiAxMDApIHtcclxuICAgICAgICByZXR1cm4geyBpc1ZhbGlkOiBmYWxzZSwgc2FuaXRpemVkOiB0cmltbWVkLCBlcnJvcjogJ05hbWUgbXVzdCBiZSBsZXNzIHRoYW4gMTAwIGNoYXJhY3RlcnMnIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWxsb3cgbGV0dGVycywgc3BhY2VzLCBoeXBoZW5zLCBhcG9zdHJvcGhlc1xyXG4gICAgaWYgKCEvXlthLXpBLVpcXHMnLV0rJC8udGVzdCh0cmltbWVkKSkge1xyXG4gICAgICAgIHJldHVybiB7IGlzVmFsaWQ6IGZhbHNlLCBzYW5pdGl6ZWQ6IHRyaW1tZWQsIGVycm9yOiAnTmFtZSBjYW4gb25seSBjb250YWluIGxldHRlcnMsIHNwYWNlcywgaHlwaGVucywgYW5kIGFwb3N0cm9waGVzJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGlzVmFsaWQ6IHRydWUsIHNhbml0aXplZDogdHJpbW1lZCB9O1xyXG59XHJcblxyXG4vKipcclxuICogVmFsaWRhdGUgbWVzc2FnZS90ZXh0YXJlYSBjb250ZW50XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVNZXNzYWdlKG1lc3NhZ2U6IHN0cmluZywgbWluTGVuZ3RoOiBudW1iZXIgPSAxMCwgbWF4TGVuZ3RoOiBudW1iZXIgPSA1MDAwKTogeyBpc1ZhbGlkOiBib29sZWFuOyBzYW5pdGl6ZWQ6IHN0cmluZzsgZXJyb3I/OiBzdHJpbmcgfSB7XHJcbiAgICBjb25zdCB0cmltbWVkID0gbWVzc2FnZS50cmltKCk7XHJcblxyXG4gICAgaWYgKCF0cmltbWVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgaXNWYWxpZDogZmFsc2UsIHNhbml0aXplZDogJycsIGVycm9yOiAnTWVzc2FnZSBpcyByZXF1aXJlZCcgfTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHJpbW1lZC5sZW5ndGggPCBtaW5MZW5ndGgpIHtcclxuICAgICAgICByZXR1cm4geyBpc1ZhbGlkOiBmYWxzZSwgc2FuaXRpemVkOiB0cmltbWVkLCBlcnJvcjogYE1lc3NhZ2UgbXVzdCBiZSBhdCBsZWFzdCAke21pbkxlbmd0aH0gY2hhcmFjdGVyc2AgfTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHJpbW1lZC5sZW5ndGggPiBtYXhMZW5ndGgpIHtcclxuICAgICAgICByZXR1cm4geyBpc1ZhbGlkOiBmYWxzZSwgc2FuaXRpemVkOiB0cmltbWVkLCBlcnJvcjogYE1lc3NhZ2UgbXVzdCBiZSBsZXNzIHRoYW4gJHttYXhMZW5ndGh9IGNoYXJhY3RlcnNgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2FuaXRpemUgYnV0IHByZXNlcnZlIG5ld2xpbmVzXHJcbiAgICBjb25zdCBzYW5pdGl6ZWQgPSB2YWxpZGF0b3IuZXNjYXBlKHRyaW1tZWQpO1xyXG5cclxuICAgIHJldHVybiB7IGlzVmFsaWQ6IHRydWUsIHNhbml0aXplZCB9O1xyXG59XHJcblxyXG4vKipcclxuICogUmF0ZSBsaW1pdGluZyBoZWxwZXIgLSBzaW1wbGUgaW4tbWVtb3J5IGltcGxlbWVudGF0aW9uXHJcbiAqIEZvciBwcm9kdWN0aW9uLCB1c2UgUmVkaXMgb3IgYSBwcm9wZXIgcmF0ZSBsaW1pdGluZyBzZXJ2aWNlXHJcbiAqL1xyXG5jb25zdCByYXRlTGltaXRNYXAgPSBuZXcgTWFwPHN0cmluZywgeyBjb3VudDogbnVtYmVyOyByZXNldFRpbWU6IG51bWJlciB9PigpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrUmF0ZUxpbWl0KGlkZW50aWZpZXI6IHN0cmluZywgbWF4UmVxdWVzdHM6IG51bWJlciA9IDUsIHdpbmRvd01zOiBudW1iZXIgPSA2MDAwMCk6IHsgYWxsb3dlZDogYm9vbGVhbjsgcmVtYWluaW5nOiBudW1iZXI7IHJlc2V0SW46IG51bWJlciB9IHtcclxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICBjb25zdCByZWNvcmQgPSByYXRlTGltaXRNYXAuZ2V0KGlkZW50aWZpZXIpO1xyXG5cclxuICAgIGlmICghcmVjb3JkIHx8IG5vdyA+IHJlY29yZC5yZXNldFRpbWUpIHtcclxuICAgICAgICAvLyBOZXcgd2luZG93XHJcbiAgICAgICAgcmF0ZUxpbWl0TWFwLnNldChpZGVudGlmaWVyLCB7IGNvdW50OiAxLCByZXNldFRpbWU6IG5vdyArIHdpbmRvd01zIH0pO1xyXG4gICAgICAgIHJldHVybiB7IGFsbG93ZWQ6IHRydWUsIHJlbWFpbmluZzogbWF4UmVxdWVzdHMgLSAxLCByZXNldEluOiB3aW5kb3dNcyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChyZWNvcmQuY291bnQgPj0gbWF4UmVxdWVzdHMpIHtcclxuICAgICAgICAvLyBSYXRlIGxpbWl0IGV4Y2VlZGVkXHJcbiAgICAgICAgcmV0dXJuIHsgYWxsb3dlZDogZmFsc2UsIHJlbWFpbmluZzogMCwgcmVzZXRJbjogcmVjb3JkLnJlc2V0VGltZSAtIG5vdyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEluY3JlbWVudCBjb3VudFxyXG4gICAgcmVjb3JkLmNvdW50Kys7XHJcbiAgICByYXRlTGltaXRNYXAuc2V0KGlkZW50aWZpZXIsIHJlY29yZCk7XHJcblxyXG4gICAgcmV0dXJuIHsgYWxsb3dlZDogdHJ1ZSwgcmVtYWluaW5nOiBtYXhSZXF1ZXN0cyAtIHJlY29yZC5jb3VudCwgcmVzZXRJbjogcmVjb3JkLnJlc2V0VGltZSAtIG5vdyB9O1xyXG59XHJcbiJdLCJuYW1lcyI6WyJ2YWxpZGF0b3IiLCJ2YWxpZGF0ZUVtYWlsIiwiZW1haWwiLCJ0cmltbWVkIiwidHJpbSIsImlzVmFsaWQiLCJzYW5pdGl6ZWQiLCJlcnJvciIsImlzRW1haWwiLCJub3JtYWxpemVFbWFpbCIsInZhbGlkYXRlUGhvbmUiLCJwaG9uZSIsInJlcGxhY2UiLCJsZW5ndGgiLCJzYW5pdGl6ZVRleHQiLCJ0ZXh0IiwibWF4TGVuZ3RoIiwic3Vic3RyaW5nIiwic3RyaXBMb3ciLCJlc2NhcGUiLCJ2YWxpZGF0ZU5hbWUiLCJuYW1lIiwidGVzdCIsInZhbGlkYXRlTWVzc2FnZSIsIm1lc3NhZ2UiLCJtaW5MZW5ndGgiLCJyYXRlTGltaXRNYXAiLCJNYXAiLCJjaGVja1JhdGVMaW1pdCIsImlkZW50aWZpZXIiLCJtYXhSZXF1ZXN0cyIsIndpbmRvd01zIiwibm93IiwiRGF0ZSIsInJlY29yZCIsImdldCIsInJlc2V0VGltZSIsInNldCIsImNvdW50IiwiYWxsb3dlZCIsInJlbWFpbmluZyIsInJlc2V0SW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/lib/validation.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tslib","vendor-chunks/iceberg-js","vendor-chunks/validator"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fforgot-password%2Froute&page=%2Fapi%2Fauth%2Fforgot-password%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fforgot-password%2Froute.ts&appDir=C%3A%5CUsers%5Csridh%5COneDrive%5CDesktop%5Creal-estate-project%5Cfrontend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Csridh%5COneDrive%5CDesktop%5Creal-estate-project%5Cfrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();