(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[401],{7911:function(e,t,s){Promise.resolve().then(s.bind(s,9605))},9605:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return n}});var r=s(7437),a=s(2265),l=s(8311);function n(){let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(!0),[i,d]=(0,a.useState)(null);(0,a.useEffect)(()=>{c()},[]);let c=async()=>{try{d(null);let{data:e,error:s}=await l.O.from("inquiries").select("*").order("date",{ascending:!1});if(s)throw s;t(e||[])}catch(e){console.error("Failed to fetch inquiries:",e),d("Failed to load inquiries from database")}finally{n(!1)}},o=async s=>{if(confirm("Are you sure you want to delete this inquiry?"))try{let{error:r}=await l.O.from("inquiries").delete().eq("id",s);if(r)throw r;t(e.filter(e=>e.id!==s))}catch(e){console.error("Error deleting inquiry:",e),alert("Failed to delete inquiry")}};return s?(0,r.jsx)("div",{className:"text-center py-12",children:"Loading..."}):i?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-red-500 font-bold mb-4",children:i}),(0,r.jsx)("button",{onClick:c,className:"px-6 py-2 bg-[var(--primary)] text-black font-bold rounded-lg",children:"Retry"})]}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Guest Inquiries"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Manage messages from the contact form"})]}),(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:(0,r.jsxs)("table",{className:"w-full text-left",children:[(0,r.jsx)("thead",{className:"bg-gray-50 border-b border-gray-100",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-4 font-bold text-gray-700",children:"Date"}),(0,r.jsx)("th",{className:"px-6 py-4 font-bold text-gray-700",children:"Guest"}),(0,r.jsx)("th",{className:"px-6 py-4 font-bold text-gray-700",children:"Contact Info"}),(0,r.jsx)("th",{className:"px-6 py-4 font-bold text-gray-700",children:"Property"}),(0,r.jsx)("th",{className:"px-6 py-4 font-bold text-gray-700",children:"Message"}),(0,r.jsx)("th",{className:"px-6 py-4 font-bold text-gray-700",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-100",children:0===e.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500 italic",children:"No inquiries found."})}):e.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.date?new Date(e.date).toLocaleDateString():"N/A"}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("div",{className:"font-bold text-gray-900",children:e.name})}),(0,r.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-600",children:[(0,r.jsx)("div",{children:e.email}),(0,r.jsx)("div",{children:e.phone})]}),(0,r.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-[var(--primary)] uppercase tracking-wider",children:e.property||"General"}),(0,r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600 max-w-md",children:(0,r.jsx)("div",{className:"line-clamp-2 hover:line-clamp-none cursor-default",children:e.message})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("button",{onClick:()=>o(e.id),className:"text-red-500 hover:text-red-700 font-bold",children:"Delete"})})]},e.id))})]})})]})}},8311:function(e,t,s){"use strict";s.d(t,{O:function(){return n}});var r=s(7327);let a="https://fvhgtyexmwcseqrazqkw.supabase.co",l="sb_publishable_2GPFnXEdg1nekNwlG-oQrg_o4QmBg-N";a&&l||console.warn("Supabase credentials missing. Database features will not work.");let n=(0,r.eI)(a,l)}},function(e){e.O(0,[418,971,23,744],function(){return e(e.s=7911)}),_N_E=e.O()}]);