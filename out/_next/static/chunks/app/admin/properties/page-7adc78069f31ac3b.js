(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[283],{7706:function(e,t,r){Promise.resolve().then(r.bind(r,7392))},7392:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var s=r(7437),a=r(2265),l=r(7138),i=r(8311);function n(){let[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0);(0,a.useEffect)(()=>{c()},[]);let c=async()=>{try{let{data:e,error:r}=await i.O.from("properties").select("*").order("created_at",{ascending:!1});if(r)throw r;t(e||[])}catch(e){console.error("Failed to fetch properties:",e)}finally{n(!1)}},d=async e=>{if(confirm("Are you sure you want to delete this property?"))try{let{error:t}=await i.O.from("properties").delete().eq("id",e);if(t)throw t;c()}catch(e){console.error("Error deleting property:",e),alert("Error deleting property")}};return r?(0,s.jsx)("div",{className:"text-center py-12",children:"Loading..."}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Properties"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Manage your property listings"})]}),(0,s.jsx)(l.default,{href:"/admin/properties/new",className:"bg-[var(--primary)] text-black px-6 py-3 rounded-lg font-bold hover:bg-black hover:text-white transition-colors",children:"+ Add Property"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-600 uppercase",children:"Property"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-600 uppercase",children:"Location"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-600 uppercase",children:"Price"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-600 uppercase",children:"Type"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-600 uppercase",children:"Views"}),(0,s.jsx)("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-600 uppercase",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200",children:e.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("img",{src:e.image,alt:e.title,className:"w-16 h-16 object-cover rounded-lg"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-bold text-gray-900",children:e.title}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:e.category})]})]})}),(0,s.jsx)("td",{className:"px-6 py-4 text-gray-600",children:e.location}),(0,s.jsx)("td",{className:"px-6 py-4 font-bold text-gray-900",children:e.price}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs font-bold rounded-full",children:e.type})}),(0,s.jsx)("td",{className:"px-6 py-4 text-gray-600",children:e.views||0}),(0,s.jsx)("td",{className:"px-6 py-4 text-right",children:(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(l.default,{href:"/admin/properties/".concat(e.id),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm font-bold",children:"Edit"}),(0,s.jsx)("button",{onClick:()=>d(e.id),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm font-bold",children:"Delete"})]})})]},e.id))})]}),0===e.length&&(0,s.jsx)("div",{className:"text-center py-12 text-gray-500",children:"No properties found. Add your first property!"})]})]})}},8311:function(e,t,r){"use strict";r.d(t,{O:function(){return i}});var s=r(7327);let a="https://fvhgtyexmwcseqrazqkw.supabase.co",l="sb_publishable_2GPFnXEdg1nekNwlG-oQrg_o4QmBg-N";a&&l||console.warn("Supabase credentials missing. Database features will not work.");let i=(0,s.eI)(a,l)},7138:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var s=r(231),a=r.n(s)}},function(e){e.O(0,[231,418,971,23,744],function(){return e(e.s=7706)}),_N_E=e.O()}]);