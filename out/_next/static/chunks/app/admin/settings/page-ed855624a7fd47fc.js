(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[140],{6746:function(e,a,t){Promise.resolve().then(t.bind(t,1695))},1695:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return n}});var l=t(7437),r=t(2265),s=t(2824),o=t(8311);function n(){let[e,a]=(0,r.useState)(!0),[t,n]=(0,r.useState)(!1),[i,d]=(0,r.useState)("banners"),[c,u]=(0,r.useState)({banners:{home:{type:"video",url:"",title:"",subtitle:"",titleColor:"#FFFFFF",tags:""},about:{type:"image",url:"",title:"",subtitle:"",titleColor:"#FFFFFF",tags:""},properties:{type:"image",url:"",title:"",subtitle:"",titleColor:"#FFFFFF",tags:""},contact:{type:"image",url:"",title:"",subtitle:"",titleColor:"#FFFFFF",tags:""},gallery:{type:"image",url:"",title:"",subtitle:"",titleColor:"#FFFFFF",tags:""}},navigation:[{label:"",href:""}],appearance:{primaryColor:"#FFA600",secondaryColor:"#1A1A1A",fontSans:"Inter",fontSerif:"Playfair Display",logoHeight:"80"},seo:{defaultTitle:"",defaultDescription:"",keywords:""},footer:{aboutText:"",copyright:"",social:{facebook:"",instagram:"",twitter:"",linkedin:""}}});(0,r.useEffect)(()=>{p()},[]);let p=async()=>{try{let{data:e,error:a}=await o.O.from("site_content").select("data").eq("id","company").single();if(a)throw a;e&&u(e.data)}catch(e){console.error("Failed to fetch settings:",e)}finally{a(!1)}},x=async e=>{e.preventDefault(),n(!0);try{let{data:e}=await o.O.from("site_content").select("data").eq("id","company").single(),a={...(null==e?void 0:e.data)||{},...c},{error:t}=await o.O.from("site_content").upsert({id:"company",data:a,updated_at:new Date().toISOString()});if(t)throw t;alert("Settings updated successfully!")}catch(e){console.error("Error updating settings:",e),alert("Error updating settings")}finally{n(!1)}},b=(e,a,t)=>{u({...c,banners:{...c.banners,[e]:{...c.banners[e],[a]:t}}})},g=(e,a,t)=>{let l=[...c.navigation];l[e]={...l[e],[a]:t},u({...c,navigation:l})},m=e=>{u({...c,navigation:c.navigation.filter((a,t)=>t!==e)})},h=(e,a)=>{u({...c,appearance:{...c.appearance,[e]:a}})},y=(e,a)=>{u({...c,seo:{...c.seo,[e]:a}})},f=(e,a)=>{u({...c,footer:{...c.footer,[e]:a}})},v=(e,a)=>{u({...c,footer:{...c.footer,social:{...c.footer.social,[e]:a}}})};return e?(0,l.jsx)("div",{className:"text-center py-12",children:"Loading..."}):(0,l.jsxs)("div",{className:"max-w-6xl",children:[(0,l.jsxs)("div",{className:"flex justify-between items-end mb-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Global website configuration"})]}),(0,l.jsx)("button",{onClick:x,disabled:t,className:"px-8 py-3 bg-[var(--primary)] text-black font-bold rounded-lg hover:bg-black hover:text-white transition-colors disabled:opacity-50 shadow-lg",children:t?"Saving...":"Save All Changes"})]}),(0,l.jsx)("div",{className:"flex gap-2 mb-8 bg-gray-200 p-1 rounded-xl w-fit",children:[{id:"banners",label:"Banners & Nav",icon:"\uD83D\uDDBC️"},{id:"appearance",label:"Appearance",icon:"\uD83C\uDFA8"},{id:"seo",label:"SEO",icon:"\uD83D\uDD0D"},{id:"footer",label:"Footer",icon:"\uD83E\uDDB6"}].map(e=>(0,l.jsxs)("button",{onClick:()=>d(e.id),className:"flex items-center gap-2 px-6 py-2 rounded-lg font-bold transition-all ".concat(i===e.id?"bg-white text-black shadow-sm":"text-gray-500 hover:text-gray-700"),children:[(0,l.jsx)("span",{children:e.icon}),e.label]},e.id))}),(0,l.jsxs)("div",{className:"space-y-8",children:["banners"===i&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Page Banners"}),Object.entries(c.banners).map(e=>{let[a,t]=e;return(0,l.jsxs)("div",{className:"mb-8 pb-8 border-b border-gray-200 last:border-0",children:[(0,l.jsxs)("h3",{className:"font-bold text-lg mb-4 capitalize",children:[a," Page"]}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Type"}),(0,l.jsxs)("select",{value:t.type,onChange:e=>b(a,"type",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--primary)] outline-none",children:[(0,l.jsx)("option",{value:"image",children:"Image"}),(0,l.jsx)("option",{value:"video",children:"Video"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"URL"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("input",{type:"url",value:t.url,onChange:e=>b(a,"url",e.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--primary)] outline-none"}),(0,l.jsx)(s.Z,{onUploadSuccess:e=>b(a,"url",e),buttonText:"\uD83D\uDCF8"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Title"}),(0,l.jsx)("input",{type:"text",value:t.title,onChange:e=>b(a,"title",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Subtitle"}),(0,l.jsx)("input",{type:"text",value:t.subtitle,onChange:e=>b(a,"subtitle",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Title Color"}),(0,l.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,l.jsx)("input",{type:"color",value:t.titleColor||"#FFFFFF",onChange:e=>b(a,"titleColor",e.target.value),className:"h-10 w-20 rounded cursor-pointer"}),(0,l.jsx)("input",{type:"text",value:t.titleColor||"#FFFFFF",onChange:e=>b(a,"titleColor",e.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-sm font-mono uppercase"})]})]}),(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Tags (comma separated)"}),(0,l.jsx)("input",{type:"text",value:t.tags||"",onChange:e=>b(a,"tags",e.target.value),placeholder:"e.g. Luxury, Premium, Hyderabad",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]})]},a)})]}),(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsx)("h2",{className:"text-xl font-bold",children:"Navigation Menu"}),(0,l.jsx)("button",{type:"button",onClick:()=>{u({...c,navigation:[...c.navigation,{label:"",href:""}]})},className:"px-4 py-2 bg-black text-white rounded-lg font-bold hover:bg-[var(--primary)] hover:text-black transition-colors",children:"+ Add Item"})]}),c.navigation.map((e,a)=>(0,l.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,l.jsx)("input",{type:"text",value:e.label,onChange:e=>g(a,"label",e.target.value),placeholder:"Label",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg"}),(0,l.jsx)("input",{type:"text",value:e.href,onChange:e=>g(a,"href",e.target.value),placeholder:"URL",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg"}),(0,l.jsx)("button",{onClick:()=>m(a),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:"\uD83D\uDDD1️"})]},a))]})]}),"appearance"===i&&(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-6 text-gray-900 border-b pb-4",children:"Style & Branding"}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-10",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-bold text-gray-700 mb-4",children:"Color Palette"}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-gray-600 mb-2",children:"Primary Color (Accent)"}),(0,l.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,l.jsx)("input",{type:"color",value:c.appearance.primaryColor,onChange:e=>h("primaryColor",e.target.value),className:"h-12 w-20 rounded cursor-pointer"}),(0,l.jsx)("input",{type:"text",value:c.appearance.primaryColor,onChange:e=>h("primaryColor",e.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-mono uppercase"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-gray-600 mb-2",children:"Secondary Color (Backgrounds)"}),(0,l.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,l.jsx)("input",{type:"color",value:c.appearance.secondaryColor,onChange:e=>h("secondaryColor",e.target.value),className:"h-12 w-20 rounded cursor-pointer"}),(0,l.jsx)("input",{type:"text",value:c.appearance.secondaryColor,onChange:e=>h("secondaryColor",e.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-mono uppercase"})]})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-bold text-gray-700 mb-4",children:"Typography & Assets"}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-gray-600 mb-2",children:"Sans Font Family"}),(0,l.jsx)("input",{type:"text",value:c.appearance.fontSans,onChange:e=>h("fontSans",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-gray-600 mb-2",children:"Logo Display Height (px)"}),(0,l.jsx)("input",{type:"number",value:c.appearance.logoHeight,onChange:e=>h("logoHeight",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]})]})]})]}),"seo"===i&&(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-6 text-gray-900 border-b pb-4",children:"Search Engine Optimization"}),(0,l.jsxs)("div",{className:"space-y-6 max-w-3xl",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Default Page Title"}),(0,l.jsx)("input",{type:"text",value:c.seo.defaultTitle,onChange:e=>y("defaultTitle",e.target.value),placeholder:"e.g., PREM Properties | Premium Real Estate",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Default Meta Description"}),(0,l.jsx)("textarea",{value:c.seo.defaultDescription,onChange:e=>y("defaultDescription",e.target.value),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Global Keywords (comma separated)"}),(0,l.jsx)("input",{type:"text",value:c.seo.keywords,onChange:e=>y("keywords",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]})]}),"footer"===i&&(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-6 text-gray-900 border-b pb-4",children:"Footer Management"}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-10",children:[(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Footer About Text"}),(0,l.jsx)("textarea",{value:c.footer.aboutText,onChange:e=>f("aboutText",e.target.value),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Copyright Text"}),(0,l.jsx)("input",{type:"text",value:c.footer.copyright,onChange:e=>f("copyright",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"font-bold text-gray-700 mb-4",children:"Social Links"}),Object.keys(c.footer.social).map(e=>(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:e}),(0,l.jsx)("input",{type:"url",value:c.footer.social[e],onChange:a=>v(e,a.target.value),placeholder:"https://www.".concat(e,".com/..."),className:"w-full px-4 py-1.5 border border-gray-300 rounded-lg text-sm"})]},e))]})]})]})]})]})}},2824:function(e,a,t){"use strict";t.d(a,{Z:function(){return o}});var l=t(7437),r=t(2265),s=t(357);function o(e){let{onUploadSuccess:a,folder:t="prem-properties",buttonText:o="Upload Image",buttonClass:n="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 font-bold"}=e,[i,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{if(window.cloudinary){u(!0);return}let e=document.createElement("script");return e.src="https://upload-widget.cloudinary.com/global/all.js",e.async=!0,e.onload=()=>u(!0),document.body.appendChild(e),()=>{}},[]),(0,l.jsx)("button",{type:"button",onClick:()=>{if(!c||!window.cloudinary){alert("Upload widget is still loading. Please try again in a moment.");return}d(!0);let e=window.cloudinary.createUploadWidget({cloudName:s.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME,uploadPreset:s.env.NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET,folder:t,sources:["local","url","camera"],multiple:!1,maxFileSize:1e8,clientAllowedFormats:["jpg","jpeg","png","gif","webp","mp4","mov"],cropping:!1,showSkipCropButton:!0,styles:{palette:{window:"#FFFFFF",windowBorder:"#90A0B3",tabIcon:"#FFA600",menuIcons:"#5A616A",textDark:"#000000",textLight:"#FFFFFF",link:"#FFA600",action:"#FF620C",inactiveTabIcon:"#0E2F5A",error:"#F44235",inProgress:"#FFA600",complete:"#20B832",sourceBg:"#E4EBF1"}}},(t,l)=>{!t&&l&&"success"===l.event&&(a(l.info.secure_url),d(!1),e.close()),t&&(console.error("Upload error:",t),alert("Upload failed. Please try again."),d(!1))});e.open()},disabled:i||!c,className:n+(i||!c?" opacity-50 cursor-not-allowed":""),title:c?"":"Loading upload widget...",children:i?"Uploading...":c?o:"Loading..."})}},8311:function(e,a,t){"use strict";t.d(a,{O:function(){return o}});var l=t(7327);let r="https://fvhgtyexmwcseqrazqkw.supabase.co",s="sb_publishable_2GPFnXEdg1nekNwlG-oQrg_o4QmBg-N";r&&s||console.warn("Supabase credentials missing. Database features will not work.");let o=(0,l.eI)(r,s)}},function(e){e.O(0,[418,971,23,744],function(){return e(e.s=6746)}),_N_E=e.O()}]);